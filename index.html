<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- FAVICON -->
    <link rel="icon" href="assets/img/favicon.png">
    <!-- TITLE -->
    <title>Conecta Brasal</title>
    <!-- bootstrap.min.css -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <!-- font-awesome.min.css -->
    <link href="assets/css/material-design-iconic-font.min.css" rel="stylesheet">
    <!-- slicknav.min.css -->
    <link href="assets/css/slicknav.min.css" rel="stylesheet">
    <!-- magnific popup.css -->
    <link href="assets/css/magnific-popup.css" rel="stylesheet">
    <!-- owl.css -->
    <link href="assets/css/owl.carousel.css" rel="stylesheet">
    <!-- animate.min.css -->
    <link href="assets/css/animate.min.css" rel="stylesheet">
    <!-- style.css -->
    <link href="style.css" rel="stylesheet">
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    
    <!-- CSS personalizado do formulário de conversão -->
    <style>
        .conversion-form {
            margin-top: 30px;
            background-color: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .conversion-form h4 {
            color: #1a2b3c;
            font-family: 'Ubuntu', sans-serif;
            font-weight: 500;
            margin-bottom: 20px;
            font-size: 22px;
        }
        
        .conversion-form .form-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .conversion-form .form-row .form-group {
            flex: 1;
        }
        
        .conversion-form .form-group {
            margin-bottom: 15px;
        }
        
        .conversion-form input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .conversion-form input:focus {
            border-color: #ec1f24;
            box-shadow: 0 0 0 2px rgba(236, 31, 36, 0.1);
            outline: none;
        }
        
        .conversion-form input::placeholder {
            color: #999;
        }
        
        .conversion-form input[readonly] {
            background-color: #f9f9f9;
            cursor: not-allowed;
        }
        
        .form-submit-btn {
            background-color: #ec1f24;
            color: #fff;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-family: 'Ubuntu', sans-serif;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 5px;
        }
        
        .form-submit-btn:hover {
            background-color: #d41a1f;
            transform: translateY(-2px);
        }
    </style>
</head>

<body class="home1">
    <!--  page loader -->
    <div id="loader-wrapper">
        <div id="loader"></div>
        <div class="loader-section section-left"></div>
        <div class="loader-section section-right"></div>
    </div>
    <!--  page loader end -->
    <div id="home"></div>
    <!--  header area start -->
    <div class="header-area">
        <div class="container">
            <div class="row">
                <div class="col-md-2">
                    <div class="logo">
                        <a href="index.html"><img src="assets/img/logo-conecta.png"></a>
                    </div>
                </div>
                <div class="col-md-10 text-right">
                    <div class="responsive_menu"></div>
                    <div class="mainmenu">
                        <ul id="nav">
                            <li><a href="#">Início</a></li>
                            <li><a href="#about">Passo a Passo</a></li>
                        </ul>
                        <a href="https://conectabrasal.com.br/auth/signin" class="header-btn" target="_blank">Acessar o Conecta Brasal</a>
                        <a href="https://www.brasal.com.br/refrigerantes" target="_blank"><img src="assets/img/logo-refri.png" class="logo-refri"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--  header area end -->
    <!--  hero area start -->
    <div class="main-hero-area">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="hero-txt">
                        
                        <!-- Formulário de Conversão -->
                        <div class="conversion-form">
                            <h1>Seja cliente Brasal Refrigerantes</h1>
                        <p>Conecta Brasal é a plataforma única de comunicação entre a Brasal e seus clientes, reunindo em um só lugar acesso rápido a informações. <b>Cadastre-se abaixo para conhecer melhor.</b></p>
                        
                            <form id="formConversao">
                                <div class="form-row">
                                    <div class="form-group">
                                        <input type="text" id="nome" name="nome" placeholder="Nome" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" id="sobrenome" name="sobrenome" placeholder="Sobrenome" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <input type="text" id="telefone" name="telefone" placeholder="Telefone" required>
                                </div>
                                <div class="form-group">
                                    <input type="text" id="cpfCnpj" name="cpfCnpj" placeholder="CPF/CNPJ" required>
                                </div>
                                <div class="form-group">
                                    <input type="text" id="cep" name="cep" placeholder="CEP" required>
                                </div>
                                <div class="form-group">
                                    <input type="text" id="logradouro" name="logradouro" placeholder="Logradouro" readonly>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <input type="text" id="bairro" name="bairro" placeholder="Bairro" readonly>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" id="numero" name="numero" placeholder="Número" required>
                                    </div>
                                </div>
                                <button type="submit" class="form-submit-btn">Enviar</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="home1-hero-mobile wow fadeInDown">
                        <img src="assets/img/home1-hero-mobile-img.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--  hero area start -->
    <!--  about area start -->
    <div class="about-area screenshot-area" id="about">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <div class="section-title z-index1 wow fadeInUp">
                        <h2>Passo a passo para utilizar o Conecta</h2>
                        <p>Aqui você vai encontrar o passo a passo para utilizar o Conecta Brasal pelo aplicativo.</p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="screenshot-slide">
                        <div class="screenshot-single-slide">
                            <a href="https://www.youtube.com/shorts/lJP_87Pp_ck" target="_blank"><img src="assets/img/sc-1.jpg" alt=""></a>
                        </div>
                        <div class="screenshot-single-slide">
                            <a href="https://www.youtube.com/shorts/hqdM3oQ-xno" target="_blank"><img src="assets/img/sc-2.jpg" alt=""></a>
                        </div>
                        <div class="screenshot-single-slide">
                            <a href="https://www.youtube.com/shorts/ODr-vXcN06c" target="_blank"><img src="assets/img/sc-3.jpg" alt=""></a>
                        </div>
                        <div class="screenshot-single-slide">
                            <a href="https://www.youtube.com/shorts/6U-JPquGI1Y" target="_blank"><img src="assets/img/sc-4.jpg" alt=""></a>
                        </div>
                        <div class="screenshot-single-slide">
                            <a href="https://www.youtube.com/shorts/-HrSkeMb8a8" target="_blank"><img src="assets/img/sc-5.jpg" alt=""></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--  about area end -->
   
    <!--  video area start -->
    <div class="video-area">
        <div class="container">
            <div class="row">
                <div class="col-md-12 wow fadeInUp text-center">
                    <div class="section-title ctas1">
                        <h2>Assistir no Youtube</h2>
                        <p>Clique abaixo para assistir a playlist com a utilização do Conecta Brasal.
                        </p>
                    </div>
                    <div class="video-btn-section">
                        <a href="https://youtube.com/playlist?list=PLEEoW3IBUB-vmzmG2_sToaaCKWYAwi6RW&si=W2t9D5FQI5jRoH1s" class="video-btn mfp-iframe">
                            <img src="assets/img/video-icon.png" alt="">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--  video area end -->
    
    
   
   
    <!--  footer area start -->
    <div class="footer-area wow fadeInUp">
        <div class="container">
            
            <div class="row">
                <div class="col-md-12 text-center">
                    <div class="footer-social-icon">
                        <a href="https://www.facebook.com/BrasalRefrigerantes"><i class='zmdi zmdi-facebook'></i></a>
                        <a href="https://x.com/Brasalrefri"><i class='zmdi zmdi-twitter'></i></a>
                        <a href="https://www.instagram.com/brasalrefrigerantes"><i class='zmdi zmdi-instagram'></i></a>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center">
                    <div class="footer-logo">
                        <h4><a href="https://conectabrasal.com.br/auth/signin" target="_blank"><img src="assets/img/logo-conecta-w.png" style="width:110px;"></a></h4>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center">
                    <div class="footer-title">
                        <p>&copy; 2025 Todos os direitos reservados por <a href="https://www.brasal.com.br/refrigerantes">Brasal Refrigerantes</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--  footer area end -->
    <!-- jquery.js -->
    <script src="assets/js/jquery.js"></script>
    <!-- jquery.popper.min.js -->
    <script src="assets/js/popper.min.js"></script>
    <!-- bootstrap.min.js -->
    <script src="assets/js/bootstrap.min.js"></script>
    <!-- jquery.slicknav.min.js -->
    <script src="assets/js/jquery.slicknav.min.js"></script>
    <!-- jquery.magnific.min.js -->
    <script src="assets/js/jquery.magnific-popup.min.js"></script>
    <!-- jquery.is sticky.min.js -->
    <script src="assets/js/jquery.sticky.js"></script>
    <!-- jquery.owl.min.js -->
    <script src="assets/js/owl.carousel.min.js"></script>
    <!-- jquery.wow.min.js -->
    <script src="assets/js/wow.min.js"></script>
    <!-- main.js -->
    <script src="assets/js/main.js"></script>
    
    <!-- Script para máscaras e integração com ViaCEP -->
    <script>

        const DADOS_TESTE = {
            nome: 'Cliente',
            sobrenome: 'Teste',
            telefone: '(11) 99999-9999',
            cpfCnpj: '111.111.111-11',
            cep: '01310-100',
            numero: '123'
        };
        
        function preencherAutomaticamente() {
            Object.keys(DADOS_TESTE).forEach(campo => {
                const elemento = document.getElementById(campo);
                if (elemento) {
                    elemento.value = DADOS_TESTE[campo];
                    // Dispara eventos para aplicar máscaras
                    elemento.dispatchEvent(new Event('input'));
                    elemento.dispatchEvent(new Event('blur'));
                }
            });
        }
        
        // Executa apenas em desenvolvimento (localhost)
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(preencherAutomaticamente, 200);
            });
        }
        document.addEventListener('DOMContentLoaded', function() {
            // Máscara para telefone
            const telefoneInput = document.getElementById('telefone');
            telefoneInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 11) value = value.slice(0, 11);
                
                // Formata o telefone
                if (value.length > 0) {
                    // Formato: (XX) XXXXX-XXXX ou (XX) XXXX-XXXX
                    if (value.length > 2) {
                        value = '(' + value.substring(0, 2) + ') ' + value.substring(2);
                    }
                    if (value.length > 10) {
                        value = value.substring(0, 10) + '-' + value.substring(10);
                    } else if (value.length > 9) {
                        value = value.substring(0, 9) + '-' + value.substring(9);
                    }
                }
                
                e.target.value = value;
            });
            
            // Máscara para CPF/CNPJ com validação de dígito verificador
            const cpfCnpjInput = document.getElementById('cpfCnpj');
            cpfCnpjInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                
                // Limita o tamanho
                if (value.length > 14) value = value.slice(0, 14);
                
                // Formata como CPF ou CNPJ dependendo do tamanho
                if (value.length <= 11) {
                    // Formato CPF: XXX.XXX.XXX-XX
                    if (value.length > 9) {
                        value = value.substring(0, 3) + '.' + 
                                value.substring(3, 6) + '.' + 
                                value.substring(6, 9) + '-' + 
                                value.substring(9);
                    } else if (value.length > 6) {
                        value = value.substring(0, 3) + '.' + 
                                value.substring(3, 6) + '.' + 
                                value.substring(6);
                    } else if (value.length > 3) {
                        value = value.substring(0, 3) + '.' + 
                                value.substring(3);
                    }
                } else {
                    // Formato CNPJ: XX.XXX.XXX/XXXX-XX
                    value = value.substring(0, 2) + '.' + 
                            value.substring(2, 5) + '.' + 
                            value.substring(5, 8) + '/' + 
                            value.substring(8, 12) + '-' + 
                            value.substring(12);
                }
                
                e.target.value = value;
            });
            
            // Validação de CPF/CNPJ antes do envio
            document.getElementById('formConversao').addEventListener('submit', function(e) {
                const cpfCnpj = cpfCnpjInput.value.replace(/\D/g, '');
                
                if (cpfCnpj.length === 11) {
                    if (!validarCPF(cpfCnpj)) {
                        e.preventDefault();
                        alert('CPF inválido. Por favor, verifique o número informado.');
                    }
                } else if (cpfCnpj.length === 14) {
                    if (!validarCNPJ(cpfCnpj)) {
                        e.preventDefault();
                        alert('CNPJ inválido. Por favor, verifique o número informado.');
                    }
                } else {
                    e.preventDefault();
                    alert('Por favor, informe um CPF ou CNPJ válido.');
                }
            });
            
            // Função para validar CPF
            function validarCPF(cpf) {
                // Elimina CPFs inválidos conhecidos
                if (cpf.length !== 11 || 
                    cpf === "00000000000" || 
                    cpf === "11111111111" || 
                    cpf === "22222222222" || 
                    cpf === "33333333333" || 
                    cpf === "44444444444" || 
                    cpf === "55555555555" || 
                    cpf === "66666666666" || 
                    cpf === "77777777777" || 
                    cpf === "88888888888" || 
                    cpf === "99999999999") {
                    return false;
                }
                
                // Valida 1º dígito
                let add = 0;
                for (let i = 0; i < 9; i++) {
                    add += parseInt(cpf.charAt(i)) * (10 - i);
                }
                let rev = 11 - (add % 11);
                if (rev === 10 || rev === 11) {
                    rev = 0;
                }
                if (rev !== parseInt(cpf.charAt(9))) {
                    return false;
                }
                
                // Valida 2º dígito
                add = 0;
                for (let i = 0; i < 10; i++) {
                    add += parseInt(cpf.charAt(i)) * (11 - i);
                }
                rev = 11 - (add % 11);
                if (rev === 10 || rev === 11) {
                    rev = 0;
                }
                if (rev !== parseInt(cpf.charAt(10))) {
                    return false;
                }
                
                return true;
            }
            
            // Função para validar CNPJ
            function validarCNPJ(cnpj) {
                // Elimina CNPJs inválidos conhecidos
                if (cnpj.length !== 14 || 
                    cnpj === "00000000000000" || 
                    cnpj === "11111111111111" || 
                    cnpj === "22222222222222" || 
                    cnpj === "33333333333333" || 
                    cnpj === "44444444444444" || 
                    cnpj === "55555555555555" || 
                    cnpj === "66666666666666" || 
                    cnpj === "77777777777777" || 
                    cnpj === "88888888888888" || 
                    cnpj === "99999999999999") {
                    return false;
                }
                
                // Valida DVs
                let tamanho = cnpj.length - 2;
                let numeros = cnpj.substring(0, tamanho);
                let digitos = cnpj.substring(tamanho);
                let soma = 0;
                let pos = tamanho - 7;
                
                // Valida 1º dígito
                for (let i = tamanho; i >= 1; i--) {
                    soma += numeros.charAt(tamanho - i) * pos--;
                    if (pos < 2) pos = 9;
                }
                
                let resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
                if (resultado !== parseInt(digitos.charAt(0))) {
                    return false;
                }
                
                // Valida 2º dígito
                tamanho = tamanho + 1;
                numeros = cnpj.substring(0, tamanho);
                soma = 0;
                pos = tamanho - 7;
                
                for (let i = tamanho; i >= 1; i--) {
                    soma += numeros.charAt(tamanho - i) * pos--;
                    if (pos < 2) pos = 9;
                }
                
                resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
                if (resultado !== parseInt(digitos.charAt(1))) {
                    return false;
                }
                
                return true;
            }
            
            // Integração com ViaCEP
            const cepInput = document.getElementById('cep');
            cepInput.addEventListener('blur', function(e) {
                const cep = e.target.value.replace(/\D/g, '');
                
                if (cep.length !== 8) {
                    return;
                }
                
                // Formata o CEP
                e.target.value = cep.substring(0, 5) + '-' + cep.substring(5);
                
                // Consulta o ViaCEP
                fetch(`https://viacep.com.br/ws/${cep}/json/`)
                    .then(response => response.json())
                    .then(data => {
                        if (!data.erro) {
                            document.getElementById('logradouro').value = data.logradouro;
                            document.getElementById('bairro').value = data.bairro;
                            // Foca no campo de número após preencher os dados
                            document.getElementById('numero').focus();
                        }
                    })
                    .catch(error => console.error('Erro ao consultar CEP:', error));
            });
            
            // Máscara para CEP
            cepInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 8) value = value.slice(0, 8);
                
                // Formata o CEP
                if (value.length > 5) {
                    value = value.substring(0, 5) + '-' + value.substring(5);
                }
                
                e.target.value = value;
            });
        });

        // ...existing code...
document.getElementById('formConversao').addEventListener('submit', function(e) {
    e.preventDefault(); // Impede o envio padrão

    // Coleta os dados do formulário
    const formData = {
        nome: document.getElementById('nome').value,
        sobrenome: document.getElementById('sobrenome').value,
        telefone: document.getElementById('telefone').value,
        cpfCnpj: document.getElementById('cpfCnpj').value,
        cep: document.getElementById('cep').value,
        logradouro: document.getElementById('logradouro').value,
        bairro: document.getElementById('bairro').value,
        numero: document.getElementById('numero').value
    };

    // validar campos obrigatórios
    for (const key in formData) {
        if (!formData[key]) {
            alert(`Por favor, preencha o campo ${key}.`);
            return;
        }
    }
     function validarCPF(cpf) {
                // Elimina CPFs inválidos conhecidos
                if (cpf.length !== 11 || 
                    cpf === "00000000000" || 
                    cpf === "11111111111" || 
                    cpf === "22222222222" || 
                    cpf === "33333333333" || 
                    cpf === "44444444444" || 
                    cpf === "55555555555" || 
                    cpf === "66666666666" || 
                    cpf === "77777777777" || 
                    cpf === "88888888888" || 
                    cpf === "99999999999") {
                    return false;
                }
                
                // Valida 1º dígito
                let add = 0;
                for (let i = 0; i < 9; i++) {
                    add += parseInt(cpf.charAt(i)) * (10 - i);
                }
                let rev = 11 - (add % 11);
                if (rev === 10 || rev === 11) {
                    rev = 0;
                }
                if (rev !== parseInt(cpf.charAt(9))) {
                    return false;
                }
                
                // Valida 2º dígito
                add = 0;
                for (let i = 0; i < 10; i++) {
                    add += parseInt(cpf.charAt(i)) * (11 - i);
                }
                rev = 11 - (add % 11);
                if (rev === 10 || rev === 11) {
                    rev = 0;
                }
                if (rev !== parseInt(cpf.charAt(10))) {
                    return false;
                }
                
                return true;
            }
            
            // Função para validar CNPJ
            function validarCNPJ(cnpj) {
                // Elimina CNPJs inválidos conhecidos
                if (cnpj.length !== 14 || 
                    cnpj === "00000000000000" || 
                    cnpj === "11111111111111" || 
                    cnpj === "22222222222222" || 
                    cnpj === "33333333333333" || 
                    cnpj === "44444444444444" || 
                    cnpj === "55555555555555" || 
                    cnpj === "66666666666666" || 
                    cnpj === "77777777777777" || 
                    cnpj === "88888888888888" || 
                    cnpj === "99999999999999") {
                    return false;
                }
                
                // Valida DVs
                let tamanho = cnpj.length - 2;
                let numeros = cnpj.substring(0, tamanho);
                let digitos = cnpj.substring(tamanho);
                let soma = 0;
                let pos = tamanho - 7;
                
                // Valida 1º dígito
                for (let i = tamanho; i >= 1; i--) {
                    soma += numeros.charAt(tamanho - i) * pos--;
                    if (pos < 2) pos = 9;
                }
                
                let resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
                if (resultado !== parseInt(digitos.charAt(0))) {
                    return false;
                }
                
                // Valida 2º dígito
                tamanho = tamanho + 1;
                numeros = cnpj.substring(0, tamanho);
                soma = 0;
                pos = tamanho - 7;
                
                for (let i = tamanho; i >= 1; i--) {
                    soma += numeros.charAt(tamanho - i) * pos--;
                    if (pos < 2) pos = 9;
                }
                
                resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
                if (resultado !== parseInt(digitos.charAt(1))) {
                    return false;
                }
                
                return true;
            }
            
    // valida cpf/cnpj
    const cpfCnpj = formData.cpfCnpj.replace(/\D/g, '');
    if (cpfCnpj.length === 11) {
        if (!validarCPF(cpfCnpj)) {
            alert('CPF inválido. Por favor, verifique o número informado.');
            return;
        }
    } else if (cpfCnpj.length === 14) {
        if (!validarCNPJ(cpfCnpj)) {
            alert('CNPJ inválido. Por favor, verifique o número informado.');
            return;
        }
    } else {
        alert('Por favor, informe um CPF ou CNPJ válido.');
        return;
    }

    formData.cpfCnpj = cpfCnpj;

    fetch('https://system.brasalrefrigerantes.com.br/backcad/api/leads', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(formData)
    })
    .then(response => {
        if (response.ok) {
            e.target.reset();
            window.location.href = 'obrigado.html';
    } else {
        alert('Erro ao enviar os dados.');
    }
    })
    .catch(error => {
        alert('Erro de conexão.');
        console.error(error);
    });
});
    </script>
</body>

</html>
